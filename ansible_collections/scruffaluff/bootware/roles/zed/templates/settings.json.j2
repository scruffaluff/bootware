// Settings file for Zed editor.
//
// For more information, visit https://zed.dev/docs/configuring-zed.

{
  "agent": {
    "button": false,
    "enabled": false
  },
{% if zed_extensions | length > 0 %}
  "auto_install_extensions": {{ zed_extensions | to_nice_json(indent=2) | indent(2) }},
{% endif %}
  "auto_update": false,
  "base_keymap": "VSCode",
  "buffer_font_family": "FiraCode Nerd Font",
  "buffer_font_size": {{ zed_font_size }},
  "collaboration_panel": {
    "button": false
  },
  "cursor_shape": "bar",
  "diagnostics": {
    "inline": {
      "enabled": false
    }
  },
  "disable_ai": true,
  "extend_comment_on_newline": false,
  "file_types": {
    "Shell Script": ["*.bats", ".*.bash", ".env.*"]
  },
  "git": {
    "blame": {
      "show_avatar": false
    }
  },
  "indent_guides": {
    "coloring": "indent_aware"
  },
  "inlay_hints": {
    "enabled": true,
    "show_background": false
  },
  "inline_code_actions": false,
  "languages": {
    "Dockerfile": {
      "format_on_save": "off",
      "tab_size": 4
    },
    "Jinja2": {
      "format_on_save": "off"
    },
    "Nu": {
      "format_on_save": "off",
      "tab_size": 4
    },
    "PowerShell": {
      "enable_language_server": {{ (ansible_system == "Win32NT") | to_json }},
      "format_on_save": "off"
    },
    "Python": {
      "tab_size": 4
    },
    "Rust": {
      "tab_size": 4
    }
  },
  "notification_panel": {
    "button": false
  },
  "on_last_window_closed": "quit_app",
  "prettier": {
    "allowed": true,
    "arrowParens": "always",
    "plugins": ["prettier-plugin-toml"],
    "proseWrap": "always",
    "semi": true,
    "singleQuote": false,
    "trailingComma": "es5"
  },
{% if zed_profiles | length > 0 %}
  "profiles": {{ zed_profiles | to_nice_json(indent=2) | indent(2) }},
{% endif %}
  "project_panel": {
    "sticky_scroll": false
  },
  "restore_on_startup": "last_workspace",
  "show_completions_on_input": false,
{% if zed_remotes | length > 0 %}
  "ssh_connections": {{ zed_remotes | to_nice_json(indent=2) | indent(2) }},
{% endif %}
  "status_bar": {
    "line_endings_button": true
  },
  "tab_size": 2,
  "tabs": {
    "file_icons": true,
    "git_status": true
  },
  "telemetry": {
    "diagnostics": false,
    "metrics": false
  },
  "terminal": {
    "cursor_shape": "bar",
    "detect_venv": "off",
    "font_family": "FiraCode Nerd Font",
    "font_size": {{ zed_font_size }},
    "line_height": "standard",
    "option_as_meta": true,
    "shell": {
      "with_arguments": {
        "args": ["--login"],
        "program": "{{ lookup('ansible.builtin.vars', user_shell + '_name' ) }}"
      }
    },
    "toolbar": {
      "breadcrumbs": false
    }
  },
  "theme": {
    "dark": "Solarized Dark",
    "light": "Solarized Light"
  },
  "theme_overrides": {
    "Solarized Light": {
      "text.muted": "#586e75"
    }
  },
  "title_bar": {
    "show_onboarding_banner": false,
    "show_sign_in": false,
    "show_user_picture": false,
    "show_menus": true
  },
  "toolbar": {
    "agent_review": false,
    "code_actions": true
  },
  "ui_font_family": "Fira Sans",
  "ui_font_size": {{ zed_font_size }},
  "use_autoclose": false,
  "use_auto_surround": false
}
